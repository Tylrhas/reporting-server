<!DOCTYPE html>
<html>

<head>
    <% include ../partials/header.ejs %>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.bundle.js"></script>
    <style>
    .hide{
        display: none;
    }
    </style>
</head>

<body>

    <% include ../partials/nav.ejs %>

    <div class="jumbotron text-center">
        <div class="container">
            <h1>Updateables</h1>
        </div>
    </div>
    <div class="row">
        <div class="container">
                <div class="alert fade in alert-dismissable hide" role="alert">
                </div>
            <button class="btn btn-default" id="QCScores">Update QC Scores</button>
        </div>
    </div>
    <script>
        //api calls for the updatables
        $('#QCScores').click(function () {
            $(".alert").addClass( "alert-info" ).removeClass("hide");
            $(".alert").html('Updating QC Scores <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>');
            $.get("../jobs/qc_score", function (data) {
                if(data.Status === 'Sucess'){
                    console.log(data.Message)
                    $(".alert").html(data.Message+'<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>');
                    $(".alert").removeClass("alert-info").addClass('alert-success');
                }
                else{
                    $(".alert").html(data.message+'<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>'); 
                    $(".alert").removeClass("alert-info").addClass('alert-danger');
                }
                alert("Load was performed.");
            });
        })
    </script>
</body>

</html>